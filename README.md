# shmtest
Playing around with linux shared memory in rust.

3 application types:
* Write/Read semantics,
* Key/Value store,
* Stream

# Run naive benchmark
cargo build --release

100000 events plus 1000 for warm up at a 10 microsecond frequency

`
./target/release/bench_producer -c 100000 -w 1000 -b 10
./target/release/bench_consumer -c 100000 -w 1000
`

Example result (in nanos):

| seq | t2 -t1 | t2 | t1 | t2 - previous t2 | t1 - previous t1 |

```
99989 3600 1663593793673980876 1663593793673977276 12164 12056
99990 3390 1663593793673992655 1663593793673989265 11779 11989
99991 3449 1663593793674004651 1663593793674001202 11996 11937
99992 3417 1663593793674016461 1663593793674013044 11810 11842
99993 3484 1663593793674028525 1663593793674025041 12064 11997
99994 3551 1663593793674040549 1663593793674036998 12024 11957
99995 3306 1663593793674052271 1663593793674048965 11722 11967
99996 3370 1663593793674064248 1663593793674060878 11977 11913
99997 3594 1663593793674076363 1663593793674072769 12115 11891
99998 3501 1663593793674088312 1663593793674084811 11949 12042
99999 3392 1663593793674100396 1663593793674097004 12084 12193
100000 3478 1663593793674112397 1663593793674108919 12001 11915
```